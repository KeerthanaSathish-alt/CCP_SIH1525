<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>EcoLogic Analytics</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  body{font-family:'Segoe UI',sans-serif;background:#f6fff9;margin:0}
  header{background:linear-gradient(to right,#00b85c,#27c177);color:#fff;padding:15px 40px;display:flex;justify-content:space-between;align-items:center}
  header nav a{color:#fff;margin-left:20px;text-decoration:none;font-weight:500}
  .container{padding:30px 50px}
  .chart-box{background:#fff;border-radius:12px;padding:20px;box-shadow:0 2px 8px rgba(0,0,0,0.05)}
  canvas{width:100%;height:400px}
</style>
</head>
<body>
<header>
  <h1>ðŸ“ˆ EcoLogic Analytics</h1>
  <nav>
    <a href="index.html">Dashboard</a>
    <a href="analytics.html">Analytics</a>
    <a href="devices.html">Devices</a>
    <a href="reports.html">Reports</a>
  </nav>
</header>

<div class="container">
  <h2>Live Energy & Water Usage</h2>
  <p>Updated every 10 seconds</p>
  <div class="chart-box">
    <canvas id="usageChart"></canvas>
  </div>
</div>

<script>
const ctx=document.getElementById("usageChart");
const labels=Array.from({length:10},(_,i)=>`T-${10-i}s`);
let energyData=labels.map(()=>Math.floor(Math.random()*400)+100);
let waterData=labels.map(()=>Math.floor(Math.random()*80)+20);

const chart=new Chart(ctx,{
  type:"line",
  data:{
    labels:labels,
    datasets:[
      {label:"Energy (kWh)",data:energyData,borderColor:"#00b85c",backgroundColor:"rgba(0,184,92,0.2)",fill:true,tension:.4},
      {label:"Water (gallons)",data:waterData,borderColor:"#2196f3",backgroundColor:"rgba(33,150,243,0.2)",fill:true,tension:.4}
    ]
  },
  options:{responsive:true,scales:{y:{beginAtZero:true}}}
});

function update(){
  const e=Math.floor(Math.random()*400)+100;
  const w=Math.floor(Math.random()*80)+20;
  chart.data.datasets[0].data.shift();chart.data.datasets[0].data.push(e);
  chart.data.datasets[1].data.shift();chart.data.datasets[1].data.push(w);
  const ts=new Date().toLocaleTimeString("en-GB",{hour12:false,minute:"2-digit",second:"2-digit"});
  chart.data.labels.shift();chart.data.labels.push(ts);
  chart.update();
  localStorage.setItem("eco_energy",e);
  localStorage.setItem("eco_water",w);
}
setInterval(update,10000);
</script>
</body>
</html>
